# 에러 코드 정리

이 문서는 API 공통 에러 코드와 각 도메인별 에러 코드를 정의합니다.  
모든 API 응답은 `ApiResponse` 형식을 따르며, 실패 시 아래의 코드/메시지를 반환합니다.

---

## 1. 공통(Common)

| HTTP | Code            | Message              | 설명/발생 상황         | 대응             |
|------|-----------------|----------------------|------------------------|------------------|
| 400  | INVALID_REQUEST | 잘못된 요청입니다.    | DTO 유효성 실패/파라미터 누락 | 요청값 수정       |
| 500  | INTERNAL_ERROR  | 서버 오류가 발생했습니다. | 알 수 없는 예외        | 재시도/문의       |

---

## 2. 인증/인가(Auth)

| HTTP | Code                 | Message                | 설명/발생 상황       | 대응       |
|------|----------------------|------------------------|----------------------|------------|
| 401  | AUTH_UNAUTHORIZED    | 인증이 필요합니다.      | 토큰 없음/손상       | 재로그인   |
| 401  | AUTH_TOKEN_EXPIRED   | 토큰이 만료되었습니다.   | 만료된 Access Token  | 재발급     |
| 401  | AUTH_TOKEN_INVALID   | 유효하지 않은 토큰입니다. | 위조·손상된 토큰     | 재로그인   |
| 403  | AUTH_FORBIDDEN       | 권한이 없습니다.        | 권한 부족            | 권한 요청  |
| 403  | AUTH_TOKEN_PURPOSE_MISMATCH | 토큰 목적 불일치 | 비밀번호 재설정 토큰 등 목적 불일치 | 재요청     |

---

## 3. 사용자(User)

| HTTP | Code                 | Message                  | 설명/발생 상황 | 대응     |
|------|----------------------|--------------------------|----------------|----------|
| 404  | USER_NOT_FOUND       | 사용자를 찾을 수 없습니다. | 없는 유저      | 값 확인  |
| 409  | USER_DUPLICATE_ID    | 이미 사용 중인 아이디입니다. | 아이디 중복   | 다른 값  |
| 409  | USER_DUPLICATE_EMAIL | 이미 사용 중인 이메일입니다. | 이메일 중복   | 다른 값  |

---

## 4. 비밀번호(Password)

| HTTP | Code                   | Message    | 설명/발생 상황     | 대응    |
|------|------------------------|------------|--------------|-------|
| 400  | PASSWORD_POLICY_VIOLATION | 비밀번호 규칙 위반 | 8자 이상, 문자+숫자 규칙 불충족 | 규칙 준수 |
| 400   | PASSWORD_MISMATCH      |비밀번호가 일치하지 않습니다 | 변경 비밀번호 불일치  | 재요청   |

---

## 5. 메일(Mail)

| HTTP | Code             | Message                  | 설명/발생 상황   | 대응          |
|------|------------------|--------------------------|------------------|---------------|
| 500  | MAIL_SEND_FAILED | 메일 전송에 실패했습니다. | SMTP 오류 등 메일 전송 실패 | 관리자 문의 |

---

## 참고
- 모든 에러 응답은 `success=false`와 함께 내려갑니다.
- `message`는 기본값 외에 상황에 따라 Custom Message가 내려갈 수 있습니다.
- Swagger 문서에서 공통 실패 응답(`ApiError`) 스키마를 통해 확인 가능합니다.
